## Проект - HH_API_DB_Postgres

## Описание
С помощью данного продукта можно находить информацию о компаниях-работодателях(далее компания). 
Например, можно получить количество открытых вакансий для каждой компании, информацию о каждой вакансии, среднюю 
зарплату по всем отобранным вакансиям, вакансии с зарплатой выше средней среди отобранных компаний, а так же вакансии
по ключевым словам.

## Установка
1. Клонируйте репозиторий:
```
git clone https://github.com/PetruschenkoEgor/HH_API_DB_Postgres
```
2. Установите зависимости:
```
pip install -r requirements.txt
```

## Описание работы программы
- Программа получает информацию о компаниях и их вакансиях по API с сайта HeadHunter(hh.ru)
- Создает Базу Данных(далее БД) - 'hhapi'
- В этой БД создает таблицы company и vacancy
- В таблице company создаются колонки id_company - ид компании(первичный ключ), name_company - название компании, 
link - ссылка на компанию, open_vacancies - количество открытых вакансий, vacancies_url - ссылка на вакансии компании
- В таблице vacancy создаются колонки id_vacancy - ид вакансии(первичный ключ), id_company - ид компании, которой 
принадлежит данная вакансия(внешний ключ), name_vacancy - название вакансии, area - город, link - ссылка на вакансию, 
description - описание вакансии, requirements - требования к кандидату, salary_from - зарплата от, 
salary_to - зарплата до
- Данные полученные с сайта hh.ru записываются в соответствующие таблицы
- С помощью запроса к БД в зависимости от выбора пользователя программа получает данные из таблиц и выводит их
- Компании для поиска можно ввести самому или воспользоваться предложенной подборкой из 10 компаний

## Возможности программы
- Просмотр названия всех компаний и количества вакансий у каждой компании
- Просмотр всех вакансий с указанием названия компании, названия вакансии, зарплаты и ссылки
- Просмотр средней зарплаты по всем вакансиям
- Просмотр всех вакансий, у которых зарплата выше средней зарплаты по всем вакансиям
- Просмотр вакансий по ключевым словам

## Главная функция main
В главной функции main реализовано взаимодействие с пользователем.
1. Приветствие, краткое описание
2. Необходимо ввести название Базы Данных. Эта БД может не существовать, далее она создастся. Название должно состоять 
из английских букв и символов "_". Название не должно начинаться на символ, иначе программа подставит вначале слова 
"db". Если название состоит из двух слов, можно вводить слова через пробел, программа заменит их на "_". Необходимо 
избегать лишних символов, если все таки ввести символы, некоторые из них программа заменит на "_". После ввода 
названия БД, программа покажет как будет называться ваша БД.
3. Далее необходимо ввести количество вакансий для каждой компании. Это количество вакансий о которых программа 
загрузит данные, обработает их и выдаст вам информацию. Если в данной компании будет меньше вакансий, тогда программа 
уменьшит количество до актуального числа вакансий. Может произойти так, что компании могут называться одинаково, но 
названия написаны в разном регистре. Тогда количество вакансий суммируется(итоговое число может получиться больше, чем 
вы запросили), либо компания будет указана в списке несколько раз, либо и тот, и тот вариант одновременно. Указать 
необходимо целое число от 1 до 5000. Если указать число, программа попросит ввести данные еще раз. Если указать число 
меньше 1, то программа автоматически исправит его на 1. Если указать число больше 5000, то программа автоматически его 
исправит на максимальное число - 5000.
4. Меню выбора компаний. В нем необходимо выбрать просмотр информации о 10 предложенных компаниях или ввести свои 
компании. Необходимо ввести букву А, Б, а или б. Если ввести другие данные, программа попросит ввести данные еще раз.
5. Если выбрать А, появится меню выбора операции. В нем выбираем действие. Необходимо ввести число от 1 до 6. Если ввести 
что-то другое, программа попросит ввести данные еще раз.
6. Если выбрать Б, программа предложит ввести названия компаний. Необходимо ввести названия компаний через 
запятую. Если ввести разные компании без запятой, то ввод получится как одна компания, и скорее всего ничего не 
найдется. Можно ввести одну компанию или несколько. Если программа нашла вакансии, появится меню выбора операции.
7. Меню выбора операции. Вам предстоит выбрать какую операцию вы хотите совершить: 1. Названия всех компаний и 
количество вакансий у каждой компании; 2. Все вакансии с указанием названия компании, названия вакансии, зарплаты и 
ссылки; 3. Средняя зарплата по всем вакансиям; 4. Все вакансии, у которых зарплата выше средней зарплаты по всем 
вакансиям; 5. Вакансии по ключевым словам; 6. Выйти из программы. Введите цифру от 1 до 6. Если ввести что-то другое, 
программа предложит ввести данные еще раз.
8. После выбора действия, программа обработает данные и выдаст информацию. Если ничего не нашлось, программа сообщит 
об этом и предложит еще раз выбрать действие.
9. Далее опять появится меню поиска. В нем необходимо выбрать действие. Так будет происходить, пока не выбрать 
цифру 6 - выход из программы.
10. Если выбрать цифру 5, то программа предложит вам ввести ключевые слова. Ключевые слова необходимо ввести через 
запятую(можно с пробелом, можно без пробела). Можно ввести одно слово или несколько слов. Если программа ничего не 
найдет по ключевым словам, она сообщит об этом, вернет меню и предложит выбрать действие.
11. После выбора цифры 6 - программа завершит свою работу.

## Документация:
Дополнительную информацию о структуре проекта можно найти в [документации](README.md).

## Лицензия:
Проект распространяется под лицензией SkyPro.
